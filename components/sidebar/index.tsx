"use client";
import React from "react";
import { useSession, signIn, signOut } from "next-auth/react";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";

import { LayoutDashboard, Play, SwatchBook } from "lucide-react";
import { useTranslation } from "react-i18next";
import Link from "next/link";
import { useRouter } from "next/navigation";
import { LANGUAGE } from "@/lib/data/constants";
import { usePathname } from "next/navigation";
import MobileMenu from "../mobile-menu";

const Sidebar = () => {
  const { data: session } = useSession();
  const { t, i18n } = useTranslation();
  const router = useRouter();
  const pathname = usePathname();

  return (
    <div className="w-full border-r font-ibmplex bg-black">
      <div className="max-w-[70rem] py-4 px-8 w-full mx-auto">
        <div className="text-center text-2xl cursor-pointer flex justify-between items-center">
          <div className="flex items-center gap-4">
            <img
              src={"/images/logo-black.png"}
              className="max-w-[55px] rounded-[100%]"
            />
          </div>
          <div className="hidden lg:flex items-center justify-between gap-4">
            <Link href="/">
              <div className="text-base font-normal flex items-center gap-2 cursor-pointer hover:bg-secondary py-2 px-2 rounded-sm">
                <LayoutDashboard size={18} /> {t("translation:home")}
              </div>
            </Link>
            <Link href="/eggs">
              <div className="text-base font-normal flex items-center gap-2 cursor-pointer hover:bg-secondary py-2 px-2 rounded-sm">
                <svg
                  width="18px"
                  height="18px"
                  fill="currentColor"
                  viewBox="0 0 32 32"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M23.8359 10.4671L21.6437 10.9045L21.7248 13.0806L18.3829 13.999L17.8507 15.5402L15.7644 16.851L15.6558 16.8102L17.1837 14.5945L17.1287 13.0806L20.4018 11.2969L19.5835 9.24343L21.6038 7.03051C19.981 5.17868 17.9827 4 15.8194 4C10.3967 3.99864 6 11.4019 6 18.2682C6 25.1345 10.3967 28.8627 15.8194 28.8627C21.2421 28.8627 25.6388 25.1345 25.6388 18.2682C25.6388 15.5933 24.9718 12.8353 23.8359 10.4671Z"
                    fill="currentColor"
                  ></path>
                </svg>{" "}
                {t("translation:eggs")}
              </div>
            </Link>
            <Link href="/nefties">
              <div className="text-base font-normal flex items-center gap-2 cursor-pointer hover:bg-secondary py-2 px-2 rounded-sm">
                <svg
                  width="18px"
                  height="18px"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g id="Icon/Navigation/Profile">
                    <g id="Tactics">
                      <path
                        d="M12.156 9.88392C12.4616 9.96798 12.6741 10.039 12.891 10.0833C13.9774 10.3062 14.7959 10.9546 15.4906 11.792C15.6425 11.9751 15.8039 12.0663 16.0393 12.1197C16.3755 12.196 16.7136 12.3257 17.0122 12.5016C17.6456 12.8743 17.6603 13.7391 17.067 14.1803C17.0243 14.2122 16.9809 14.2435 16.9452 14.2826C16.4265 14.8528 15.8734 14.9166 15.2584 14.4755C15.2348 14.4585 15.2048 14.4494 15.1563 14.4259C15.1487 14.4911 15.1436 14.5406 15.1372 14.5901C15.0619 15.2079 14.454 15.4868 13.95 15.1349C13.5245 14.8384 13.386 14.2793 13.6323 13.8095C13.742 13.6003 13.8728 13.4028 13.9997 13.191C13.5366 12.6267 12.965 12.2331 12.2766 12.0787C12.3334 12.8372 12.4023 13.5892 12.4406 14.3432C12.4572 14.6651 12.4527 14.9622 12.6262 15.2672C12.898 15.7436 12.8342 16.2721 12.6441 16.8045C12.734 16.8097 12.7927 16.8181 12.8508 16.8155C13.2418 16.7992 13.5296 16.9765 13.7152 17.3167C13.9136 17.6809 13.8926 18.0472 13.6661 18.3945C13.4511 18.7236 13.1117 18.8265 12.7442 18.6936C12.6613 18.6636 12.5599 18.6362 12.4788 18.6564C11.6635 18.8585 10.8463 18.2127 10.8431 17.3544C10.8412 16.8618 10.7576 16.7784 10.2696 16.7823C10.0782 16.7836 9.88684 16.7836 9.69545 16.7823C9.28844 16.7784 9.1736 16.8866 9.15255 17.2984C9.1181 17.9774 8.74554 18.5242 8.10376 18.6675C7.67952 18.7627 7.22083 18.7581 6.78447 18.7184C6.40042 18.6838 6.14077 18.2101 6.16948 17.7402C6.19818 17.2645 6.56373 16.8611 7.00903 16.8194C7.1028 16.811 7.1985 16.8181 7.33183 16.8181C7.31397 16.7106 7.31014 16.6187 7.28271 16.534C7.11046 15.9997 7.22019 15.5083 7.48558 15.0359C7.53087 14.9557 7.58191 14.8586 7.57681 14.772C7.5296 13.9105 7.58637 13.0581 7.77138 12.2155C7.78031 12.1758 7.77266 12.1321 7.77266 12.0735C7.04347 12.226 6.48526 12.6274 6.0068 13.1845C6.12546 13.382 6.25432 13.5788 6.36597 13.7854C6.6288 14.2715 6.49675 14.8313 6.05528 15.1362C5.57171 15.4705 4.99628 15.2327 4.87889 14.6494C4.86614 14.5869 4.85657 14.5237 4.84827 14.4774C4.60394 14.568 4.37682 14.6892 4.13632 14.7322C3.72611 14.8052 3.35418 14.7094 3.09581 14.3314C3.05498 14.2715 2.99757 14.2122 2.93505 14.1796C2.36344 13.887 2.32644 12.8815 2.99565 12.5023C3.33249 12.3113 3.72484 12.2247 4.09038 12.0845C4.19309 12.0454 4.32005 12.0103 4.38257 11.9301C5.21892 10.8588 6.27984 10.1785 7.61062 9.95169C7.66229 9.94257 7.71205 9.92302 7.84538 9.88392C7.6221 9.81028 7.46134 9.77509 7.31524 9.70667C6.17713 9.17297 5.44157 8.34668 5.40967 6.9945C5.39309 6.30049 5.32227 5.60909 5.49962 4.92095C5.5379 4.77107 5.44093 4.58795 5.41924 4.41852C5.30888 3.57529 5.40585 2.74834 5.64827 1.9416C5.82817 1.34273 6.3194 1.11726 6.88016 1.3688C7.54682 1.66856 7.99658 2.22637 8.4087 2.80894C8.56244 3.02594 8.71045 3.10805 8.97839 3.09828C9.68971 3.07221 10.4029 3.08199 11.1149 3.09893C11.3076 3.10349 11.4071 3.04093 11.534 2.89561C11.9417 2.42838 12.3366 1.93052 12.8182 1.55321C13.5615 0.971289 14.2096 1.25215 14.4252 2.1801C14.6224 3.03051 14.7506 3.88547 14.5044 4.75282C14.4827 4.82971 14.5018 4.92486 14.5197 5.00762C14.7066 5.87105 14.6619 6.73579 14.5139 7.59532C14.3142 8.75526 13.5098 9.35282 12.519 9.76206C12.4329 9.7979 12.3423 9.82136 12.1541 9.88327L12.156 9.88392ZM8.61157 12.9441C8.59689 12.946 8.58158 12.9473 8.56691 12.9493C8.62624 13.41 8.67026 13.8727 8.74809 14.3301C8.85463 14.959 9.35542 15.3858 9.97105 15.4034C10.5816 15.421 11.1449 15.0222 11.245 14.3986C11.3471 13.7612 11.4198 13.105 11.386 12.4632C11.3356 11.4987 10.6664 11.0256 10.0087 11.0282C9.27376 11.0308 8.65431 11.6186 8.6122 12.5218C8.60583 12.6626 8.61157 12.8033 8.61157 12.9447V12.9441ZM6.92418 6.70582L6.95352 6.70973C6.95352 6.83941 6.94651 6.96974 6.9548 7.09942C6.98606 7.59076 7.33693 7.96025 7.80073 7.99804C8.2658 8.03584 8.67472 7.73217 8.74937 7.2304C8.80168 6.88111 8.8087 6.51619 8.77361 6.1643C8.73023 5.71987 8.38254 5.4149 7.9666 5.37841C7.54937 5.34191 7.16788 5.58107 7.03391 6.00725C6.96437 6.22946 6.95863 6.47253 6.92418 6.70647V6.70582ZM11.2259 6.67324C11.2304 6.67324 11.2348 6.67324 11.2393 6.67324C11.2393 6.8355 11.224 6.99971 11.2425 7.16002C11.2961 7.62008 11.6151 7.94526 12.0431 7.99544C12.4693 8.04496 12.9261 7.80124 12.9879 7.36008C13.0536 6.89349 13.0313 6.39042 12.9305 5.9297C12.8393 5.51265 12.3704 5.31194 11.9596 5.38883C11.5621 5.46312 11.2648 5.79481 11.2278 6.21904C11.2144 6.36957 11.2259 6.52205 11.2259 6.67324ZM6.08144 3.11522C6.06613 3.11848 6.05146 3.12174 6.03614 3.125C6.08782 3.35438 6.1178 3.59223 6.20137 3.80858C6.23838 3.90437 6.3985 4.03014 6.47761 4.0145C6.81764 3.94608 7.15384 3.84572 7.48047 3.72517C7.64124 3.66587 7.69674 3.5023 7.57617 3.35242C7.33055 3.04615 7.09643 2.72097 6.80743 2.46161C6.49739 2.18336 6.13184 2.36713 6.08272 2.7907C6.07059 2.89757 6.0808 3.00705 6.0808 3.11522H6.08144ZM13.9385 3.0494C13.9366 3.02073 13.9557 2.92298 13.9225 2.85C13.8479 2.68318 13.7816 2.45054 13.6482 2.38993C13.5187 2.33063 13.2629 2.39906 13.1468 2.50593C12.8846 2.74834 12.667 3.04354 12.4457 3.32896C12.3079 3.50621 12.3736 3.66587 12.5656 3.74472C12.7602 3.82487 12.9758 3.85224 13.1678 3.9363C13.7599 4.19631 13.8473 3.86462 13.9366 3.36545C13.9519 3.28204 13.9385 3.19277 13.9385 3.04875V3.0494ZM10.0597 8.84454C10.0814 8.86409 10.128 8.93381 10.1918 8.95923C10.4731 9.07131 10.7538 9.19513 11.0466 9.25834C11.1219 9.27463 11.2399 9.08565 11.3388 8.99051C11.2642 8.91426 11.1902 8.77416 11.1143 8.77351C10.7679 8.77025 10.5114 8.62558 10.2939 8.35971C10.1171 8.14466 9.90024 8.13945 9.72288 8.35384C9.50407 8.61776 9.25207 8.77025 8.90439 8.7722C8.82975 8.7722 8.70598 8.88038 8.69323 8.95401C8.67919 9.03482 8.74809 9.1847 8.81699 9.21337C8.93373 9.26225 9.09322 9.28049 9.20933 9.23813C9.48301 9.13843 9.74202 8.99507 10.0591 8.84454H10.0597Z"
                        fill="currentColor"
                      ></path>
                      <path
                        d="M9.07465 12.9936C9.0855 12.8099 9.08996 12.6248 9.1091 12.4423C9.1595 11.9543 9.53398 11.5626 9.96587 11.5366C10.3754 11.5118 10.8105 11.8565 10.8864 12.3296C10.9981 13.0223 10.9247 13.7157 10.7455 14.3895C10.6549 14.7283 10.3365 14.9017 9.96651 14.8782C9.57289 14.8535 9.31516 14.6756 9.24371 14.3145C9.15758 13.8805 9.11357 13.4381 9.05168 12.9989C9.05934 12.9969 9.06763 12.9956 9.07529 12.9936H9.07465Z"
                        fill="currentColor"
                      ></path>
                      <path
                        d="M8.56302 6.76182C8.56302 6.79441 8.56302 6.82634 8.56302 6.85892C8.56493 7.25186 8.4367 7.45127 8.18152 7.45127C7.93973 7.45127 7.79683 7.25838 7.77769 6.89476C7.77068 6.75531 7.76366 6.61259 7.78216 6.4751C7.8147 6.23855 7.93144 6.06325 8.19173 6.07107C8.45584 6.07889 8.55281 6.25679 8.55983 6.50312C8.56238 6.58914 8.55983 6.6758 8.55983 6.76182H8.56302Z"
                        fill="currentColor"
                      ></path>
                      <path
                        d="M12.2344 6.72742C12.2255 6.85645 12.2204 6.95354 12.2121 7.04999C12.1917 7.28719 12.0679 7.44358 11.8331 7.44619C11.5779 7.4488 11.4535 7.26894 11.4357 7.02848C11.421 6.83624 11.4357 6.64075 11.451 6.44786C11.4682 6.22825 11.5773 6.07968 11.8076 6.07055C12.0309 6.06143 12.1661 6.18394 12.2063 6.4042C12.2274 6.52019 12.228 6.6401 12.235 6.72677L12.2344 6.72742Z"
                        fill="currentColor"
                      ></path>
                    </g>
                  </g>
                </svg>{" "}
                {t("translation:nefties")}
              </div>
            </Link>
            <Link href="/tier-list">
              <div className="text-base font-normal flex items-center gap-2 cursor-pointer hover:bg-secondary py-2 px-2">
                <svg
                  width={"18px"}
                  height={"18px"}
                  viewBox="0 0 32 32"
                  fill={"white"}
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M28 12.0653L24.3445 22.6867L8.20038 21.4929L7.13202 21.3893L4 12.0653L5.13532 10.2463L9.74356 14.1198L10.0449 13.9941L15.4263 5H16.5737L22.0403 14.0821L22.366 14.0664L27.4795 10.7804L28 12.0653Z"
                    fill={"white"}
                  />
                  <path
                    d="M7.60989 22.96L8.29169 25.1654L22.8226 27L23.7418 24.3611L7.60989 22.96Z"
                    fill={"white"}
                  />
                </svg>
                {t("translation:tier_list")}
              </div>
            </Link>
            <Link href="/videos">
              <div className="text-base font-normal flex items-center gap-2 cursor-pointer hover:bg-secondary py-2 px-2">
                <Play className="w-[1.125rem]" />
                {t("translation:videos")}
              </div>
            </Link>
            <Link href="/events">
              <div className="text-base font-normal flex items-center gap-2 cursor-pointer hover:bg-secondary py-2 px-2">
                <svg
                  width="20px"
                  height="20px"
                  fill="currentColor"
                  viewBox="0 0 32 32"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.85499 3.83185L5.62516 7.91717L26.7518 9.02631L27 4.62673L26.191 3.73018L6.5537 3L5.8458 3.83185H5.85499ZM21.0242 7.11305L12.4191 6.59545L12.9524 5.12584L20.5921 5.48631L21.0242 7.11305Z"
                    fill="currentColor"
                  ></path>
                  <path
                    d="M7.3995 11.2261L24.8855 11.9378L24.3982 26.6338L23.8926 27.1422L7.05015 26.8279L6.86628 26.6154L7.3995 11.2261ZM5.62516 9.30359L5 27.2901L6.21354 28.658L24.6465 29L26.2186 27.4102L26.7885 10.1539L5.62516 9.30359Z"
                    fill="currentColor"
                  ></path>
                  <path
                    d="M16.8504 13.5923L18.0731 17.2339L21.9528 18.6665L21.9712 19.0547L19.0384 21.6982L19.2683 24.9886L19.1304 25.3768L15.7656 23.6299C15.6277 23.5375 12.2628 24.8223 12.2628 24.8223L11.7572 24.7391L12.3732 20.5891L10.1759 17.5851L10.6264 17.2432L14.3038 16.8642L16.3448 13.8418L16.8504 13.6015V13.5923Z"
                    fill="currentColor"
                  ></path>
                </svg>
                {t("translation:events")}
              </div>
            </Link>
            {session && session.user.isAdmin && (
              <Link href="/admin">
                <div className="text-base font-normal flex items-center gap-2 cursor-pointer hover:bg-secondary py-2 px-2">
                  Admin
                </div>
              </Link>
            )}
          </div>

          <Link href="/tier-list">
            <div className="text-base font-normal flex items-center gap-2 cursor-pointer mt-2 hover:bg-secondary py-2 px-2">
              <svg
                width={"18px"}
                height={"18px"}
                viewBox="0 0 32 32"
                fill={"white"}
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M28 12.0653L24.3445 22.6867L8.20038 21.4929L7.13202 21.3893L4 12.0653L5.13532 10.2463L9.74356 14.1198L10.0449 13.9941L15.4263 5H16.5737L22.0403 14.0821L22.366 14.0664L27.4795 10.7804L28 12.0653Z"
                  fill={"white"}
                />
                <path
                  d="M7.60989 22.96L8.29169 25.1654L22.8226 27L23.7418 24.3611L7.60989 22.96Z"
                  fill={"white"}
                />
              </svg>
              {t("translation:tier_list")}
            </div>
          </Link>
          <Link href="/videos">
            <div className="text-base font-normal flex items-center gap-2 cursor-pointer mt-2 hover:bg-secondary py-2 px-2">
              <Play className="w-[1.125rem]" />
              {t("translation:videos")}
            </div>
          </Link>
          <Link href="/events">
            <div className="text-base font-normal flex items-center gap-2 cursor-pointer mt-2 hover:bg-secondary py-2 px-2">
              <svg
                width="20px"
                height="20px"
                fill="currentColor"
                viewBox="0 0 32 32"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M5.85499 3.83185L5.62516 7.91717L26.7518 9.02631L27 4.62673L26.191 3.73018L6.5537 3L5.8458 3.83185H5.85499ZM21.0242 7.11305L12.4191 6.59545L12.9524 5.12584L20.5921 5.48631L21.0242 7.11305Z"
                  fill="currentColor"
                ></path>
                <path
                  d="M7.3995 11.2261L24.8855 11.9378L24.3982 26.6338L23.8926 27.1422L7.05015 26.8279L6.86628 26.6154L7.3995 11.2261ZM5.62516 9.30359L5 27.2901L6.21354 28.658L24.6465 29L26.2186 27.4102L26.7885 10.1539L5.62516 9.30359Z"
                  fill="currentColor"
                ></path>
                <path
                  d="M16.8504 13.5923L18.0731 17.2339L21.9528 18.6665L21.9712 19.0547L19.0384 21.6982L19.2683 24.9886L19.1304 25.3768L15.7656 23.6299C15.6277 23.5375 12.2628 24.8223 12.2628 24.8223L11.7572 24.7391L12.3732 20.5891L10.1759 17.5851L10.6264 17.2432L14.3038 16.8642L16.3448 13.8418L16.8504 13.6015V13.5923Z"
                  fill="currentColor"
                ></path>
              </svg>
              {t("translation:events")}
            </div>
          </Link>
          <Link href="/wiki">
            <div className="text-base font-normal flex items-center gap-2 cursor-pointer mt-2 hover:bg-secondary py-2 px-2">
              <SwatchBook size="22" />
              Wiki
            </div>
          </Link>
          {session && session.user.isAdmin && (
            <Link href="/admin">
              <div className="text-base font-normal flex items-center gap-2 cursor-pointer mt-2 hover:bg-secondary py-2 px-2">
                Admin
              </div>
            </Link>
          )}
        </div>
      </div>

      <div className="lg:hidden">
        <MobileMenu />
      </div>
    </div>
  );
};

export default Sidebar;
